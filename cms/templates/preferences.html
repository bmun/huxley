{% extends "advisor_index.html" %}
{% load cms_extras %}

{% block title %}Edit Preferences{% endblock title %}

{% block content %}

<h2> Edit Preferences </h2>
<p> Here you can edit your country and committee preferences. Please note that <span class="bold">this option will only be available until the early registration deadline</span>, after which your preferences will be locked and we will begin the assignment process. As always, <span class="bold">don't forget to save</span> when you're done!</p>

<form method="post" id = "editprefs" action="{% url updateprefs %}">
{% csrf_token %}
<div id = "tablemenu" class="tableheader">
	Don't forget to <input class="saved button" type="submit" value="SAVE!"/>
</div>

<div id = "preferences">
<table class = "preferencestable">
	<tr>
		<th colspan=2> Country Preferences </th>
	</tr>
	<tr>
		<td class='field'>
		<label>01</label>
		<select class = 'select' name="CountryPref1">
			{% if not countryprefs.0 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.0 and country == countryprefs.0 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
		<td class='field'>
		<label>06</label>
		<select class = 'select' name="CountryPref6">
			{% if not countryprefs.5 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.5 and country == countryprefs.5 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
	</tr>
	<tr>
		<td class='field'>
		<label>02</label>
		<select class = 'select' name="CountryPref2">
			{% if not countryprefs.1 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				<p> {{ countryprefs.1 }} </p>
				{% if country in countryprefs and countryprefs.1 and country == countryprefs.1 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
		<td class='field'>
		<label>07</label>
		<select class = 'select' name="CountryPref7">
			{% if not countryprefs.6 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.6 and country == countryprefs.6 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
	</tr>
	<tr>
		<td class='field'>
		<label>03</label>
		<select class = 'select' name="CountryPref3">
			{% if not countryprefs.2 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.2 and country == countryprefs.2 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
		<td class='field'>
		<label>08</label>
		<select class = 'select' name="CountryPref8">
			{% if not countryprefs.7 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.7 and country == countryprefs.7 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
	</tr>
	<tr>
		<td class='field'>
		<label>04</label>
		<select class = 'select' name="CountryPref4">
			{% if not countryprefs.3 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.3 and country == countryprefs.3 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
		<td class='field'>
		<label>09</label>
		<select class = 'select' name="CountryPref9">
			{% if not countryprefs.8 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.8 and country == countryprefs.8 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
	</tr>
	<tr>
		<td class='field'>
		<label>05</label>
		<select class = 'select' name="CountryPref5">
			{% if not countryprefs.4 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.4 and country == countryprefs.4 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
		<td class='field'>
		<label>10</label>
		<select class = 'select' name="CountryPref10">
			{% if not countryprefs.9 %}
				<option value="NULL">Select a Country</option>
			{% endif %}
			{% for country in countries %}
				{% if country in countryprefs and countryprefs.9 and country == countryprefs.9 %}
					<option value="{{ country.id }}" selected="selected">{{ country }}</option>
				{% else %}
					<option value="{{ country.id }}">{{ country }}</option>
				{% endif %}
			{% endfor %}
		</select>
		</td>
	</tr>
	
	<tr>
		<th colspan=2> Special Committee Preferences </th>
	</tr>
	{% for committee in committees %}
		<tr>
			<td class='field'>
				{% if committee in committeeprefs %}
				<label><input type="checkbox" checked = "checked" name="{{ committee.name }}" value="{{ committee.id }}">{{ committee.fullname }} </input></label>
				{% else %}
				<label><input type="checkbox" name="{{ committee.name }}" value="{{ committee.id }}">{{ committee.fullname }} </input></label>
				{% endif %}
			</td>
		</tr>
	{% endfor %}
</table>
</div>

<div id="tablemenu" class="tablefooter">
    Don't forget to <input class="saved button" type="submit" value="SAVE!" />
</div>
</form>

{% endblock content %}